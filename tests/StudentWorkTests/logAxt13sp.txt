
          Testing IK solution


⎡cos(th₂)⋅cos(th₃ + th₄)  -sin(th₃ + th₄)⋅cos(th₂)  sin(th₂)         (l₃⋅cos(t
⎢
⎢    -sin(th₃ + th₄)          -cos(th₃ + th₄)           0             -(l₂ + l
⎢
⎢sin(th₂)⋅cos(th₃ + th₄)  -sin(th₂)⋅sin(th₃ + th₄)  -cos(th₂)  d₁ + l₃⋅sin(th₂
⎢
⎣           0                        0                  0

h₃) + l₄⋅cos(th₃ + th₄))⋅cos(th₂)      ⎤
                                       ⎥
₃⋅sin(th₃) + l₄⋅sin(th₃ + th₄))        ⎥
                                       ⎥
)⋅cos(th₃) + l₄⋅sin(th₂)⋅cos(th₃ + th₄)⎥
                                       ⎥
           1                           ⎦
term:
cos(th₂)⋅cos(th₃ + th₄)
term:
-sin(th₃ + th₄)⋅cos(th₂)
term:
sin(th₂)
term:
(l₃⋅cos(th₃) + l₄⋅cos(th₃ + th₄))⋅cos(th₂)
term:
-sin(th₃ + th₄)
term:
-cos(th₃ + th₄)
term:
0
term:
-(l₂ + l₃⋅sin(th₃) + l₄⋅sin(th₃ + th₄))
term:
sin(th₂)⋅cos(th₃ + th₄)
term:
-sin(th₂)⋅sin(th₃ + th₄)
term:
-cos(th₂)
term:
d₁ + l₃⋅sin(th₂)⋅cos(th₃) + l₄⋅sin(th₂)⋅cos(th₃ + th₄)
term:
0
term:
0
term:
0
term:
1

###########################
th_2: tangent

th_3: substitution: -(l₂ + l₃⋅sin(th₃) + l₄⋅sin(th₃ + th₄)), and -sin(th₃ + th₄)

d_1 : substitution: d₁ + l₃⋅sin(th₂)⋅cos(th₃) + l₄⋅sin(th₂)⋅cos(th₃ + th₄), and sin(th₂)⋅cos(th₃ + th₄)
	depend on solved th_2, th_3
	
th_4: sum of angles, tangent, use sum - th_3

no T update

#################
only th_2 is solved
Found : 

#1 substitution is sensitive to signs, need to modify it to be sign insenstive

#2 if found 
############################

algebra ID  ticked
running:  algebra ID  , input RHS:
algebra ID: Looking for unknown:  d_1  in equation:  e_34  =  d_1 + e_13*l_3*cos(th_3) + e_13*l_4*cos(th_3 + th_4)
  which has  3  unknown
algebra ID: Looking for unknown:  th_2  in equation:  e_14  =  (l_3*cos(th_3) + l_4*cos(th_3 + th_4))*cos(th_2)
  which has  3  unknown
algebra ID: Looking for unknown:  th_2  in equation:  e_11  =  cos(th_2)*cos(th_3 + th_4)
  which has  3  unknown
algebra ID: Looking for unknown:  th_2  in equation:  e_32  =  e_21*sin(th_2)
  which has  1  unknown
algebra ID: Looking for unknown:  th_2  in equation:  e_33  =  -cos(th_2)
  which has  1  unknown
algebra ID: Looking for unknown:  th_2  in equation:  e_13  =  sin(th_2)
  which has  1  unknown
algebra ID: Looking for unknown:  th_3  in equation:  e_34  =  d_1 + e_13*l_3*cos(th_3) + e_13*l_4*cos(th_3 + th_4)
  which has  3  unknown
algebra ID: Looking for unknown:  th_3  in equation:  e_14  =  (l_3*cos(th_3) + l_4*cos(th_3 + th_4))*cos(th_2)
  which has  3  unknown
algebra ID: Looking for unknown:  th_3  in equation:  e_24  =  -(l_2 + l_3*sin(th_3) + l_4*sin(th_3 + th_4))
  which has  2  unknown
algebra ID: Looking for unknown:  th_3  in equation:  e_11  =  cos(th_2)*cos(th_3 + th_4)
  which has  3  unknown
algebra ID: Looking for unknown:  th_3  in equation:  e_12  =  e_33*sin(th_3 + th_4)
  which has  2  unknown
algebra ID: Looking for unknown:  th_3  in equation:  e_21  =  -sin(th_3 + th_4)
  which has  2  unknown
algebra ID: Looking for unknown:  th_3  in equation:  e_22  =  -cos(th_3 + th_4)
  which has  2  unknown
algebra ID: Looking for unknown:  th_3  in equation:  e_31  =  e_13*cos(th_3 + th_4)
  which has  2  unknown
algebra ID: Looking for unknown:  th_4  in equation:  e_34  =  d_1 + e_13*l_3*cos(th_3) + e_13*l_4*cos(th_3 + th_4)
  which has  3  unknown
algebra ID: Looking for unknown:  th_4  in equation:  e_14  =  (l_3*cos(th_3) + l_4*cos(th_3 + th_4))*cos(th_2)
  which has  3  unknown
algebra ID: Looking for unknown:  th_4  in equation:  e_24  =  -(l_2 + l_3*sin(th_3) + l_4*sin(th_3 + th_4))
  which has  2  unknown
algebra ID: Looking for unknown:  th_4  in equation:  e_11  =  cos(th_2)*cos(th_3 + th_4)
  which has  3  unknown
algebra ID: Looking for unknown:  th_4  in equation:  e_12  =  e_33*sin(th_3 + th_4)
  which has  2  unknown
algebra ID: Looking for unknown:  th_4  in equation:  e_21  =  -sin(th_3 + th_4)
  which has  2  unknown
algebra ID: Looking for unknown:  th_4  in equation:  e_22  =  -cos(th_3 + th_4)
  which has  2  unknown
algebra ID: Looking for unknown:  th_4  in equation:  e_31  =  e_13*cos(th_3 + th_4)
  which has  2  unknown
basenode:  algebra ID  FAIL
algebra ID  ticked
running:  algebra ID  , input RHS:
algebra ID: Looking for unknown:  d_1  in equation:  e_34  =  d_1 + e_13*l_3*cos(th_3) + e_31*l_4
  which has  2  unknown
algebra ID: Looking for unknown:  th_3  in equation:  e_14  =  (l_3*cos(th_3) + l_4*cos(th_3 + th_4))*cos(th_2)
  which has  2  unknown
algebra ID: Looking for unknown:  th_3  in equation:  e_24  =  -(l_2 + l_3*sin(th_3) + l_4*sin(th_3 + th_4))
  which has  2  unknown
algebra ID: Looking for unknown:  th_3  in equation:  e_34  =  d_1 + e_13*l_3*cos(th_3) + e_31*l_4
  which has  2  unknown
algebra ID: Looking for unknown:  th_3  in equation:  e_11  =  cos(th_2)*cos(th_3 + th_4)
  which has  2  unknown
algebra ID: Looking for unknown:  th_3  in equation:  e_12  =  e_33*sin(th_3 + th_4)
  which has  2  unknown
algebra ID: Looking for unknown:  th_3  in equation:  e_21  =  -sin(th_3 + th_4)
  which has  2  unknown
algebra ID: Looking for unknown:  th_3  in equation:  e_22  =  -cos(th_3 + th_4)
  which has  2  unknown
algebra ID: Looking for unknown:  th_3  in equation:  e_31  =  e_13*cos(th_3 + th_4)
  which has  2  unknown
algebra ID: Looking for unknown:  th_4  in equation:  e_14  =  (l_3*cos(th_3) + l_4*cos(th_3 + th_4))*cos(th_2)
  which has  2  unknown
algebra ID: Looking for unknown:  th_4  in equation:  e_24  =  -(l_2 + l_3*sin(th_3) + l_4*sin(th_3 + th_4))
  which has  2  unknown
algebra ID: Looking for unknown:  th_4  in equation:  e_11  =  cos(th_2)*cos(th_3 + th_4)
  which has  2  unknown
algebra ID: Looking for unknown:  th_4  in equation:  e_12  =  e_33*sin(th_3 + th_4)
  which has  2  unknown
algebra ID: Looking for unknown:  th_4  in equation:  e_21  =  -sin(th_3 + th_4)
  which has  2  unknown
algebra ID: Looking for unknown:  th_4  in equation:  e_22  =  -cos(th_3 + th_4)
  which has  2  unknown
algebra ID: Looking for unknown:  th_4  in equation:  e_31  =  e_13*cos(th_3 + th_4)
  which has  2  unknown
basenode:  algebra ID  FAIL

#######################

Noticed 

After fixing sub_trnasform

solved th_2 and th_3

AlgID might have issues, as it doesn't identify d_1 as solvable term

########################

unknowns:
d_1  :  [e_34 = d_1 - e_22*l_4*sin(th_2) + l_3*sin(th_2)*cos(th_3)]
th_2  :  [e_34 = d_1 - e_22*l_4*sin(th_2) + l_3*sin(th_2)*cos(th_3), e_31 = -e_22*sin(th_2), e_32 = e_21*sin(th_2), e_33 = -cos(th_2), e_13 = sin(th_2)]
th_3  :  [e_34 = d_1 - e_22*l_4*sin(th_2) + l_3*sin(th_2)*cos(th_3), e_14 = -e_33*(-e_22*l_4 + l_3*cos(th_3)), e_24 = e_21*l_4 - l_2 - l_3*sin(th_3), e_21 = -sin(th_3 + th_4), e_22 = -cos(th_3 + th_4)]
th_4  :  [e_21 = -sin(th_3 + th_4), e_22 = -cos(th_3 + th_4)]

#################
AlgID only identifies sin or cos, doesn't identy the case of one unknow?? No

It's the set-up, if seq[subID, algsolver], it won't tick alg mod if sub fails, so it's better to have subID outside

#############
algebra ID  ticked
running:  algebra ID  , input RHS:
algebra ID: Looking for unknown:  d_1  in equation:  e_34  =  d_1 - e_13*e_22*l_4 + e_13*l_3*cos(th_3)
  which has  2  unknown
algebra ID: Looking for unknown:  th_2  in equation:  e_33  =  -cos(th_2)
  which has  1  unknown
algebra ID: Looking for unknown:  th_2  in equation:  e_13  =  sin(th_2)
  which has  1  unknown
algebra ID: Looking for unknown:  th_3  in equation:  e_34  =  d_1 - e_13*e_22*l_4 + e_13*l_3*cos(th_3)
  which has  2  unknown
algebra ID: Looking for unknown:  th_3  in equation:  e_14  =  -e_33*(-e_22*l_4 + l_3*cos(th_3))
  which has  1  unknown
algebra ID: Looking for unknown:  th_3  in equation:  e_24  =  e_21*l_4 - l_2 - l_3*sin(th_3)
  which has  1  unknown
algebra ID: Looking for unknown:  th_3  in equation:  e_21  =  -sin(th_3 + th_4)
  which has  2  unknown
algebra ID: Looking for unknown:  th_3  in equation:  e_22  =  -cos(th_3 + th_4)
  which has  2  unknown
algebra ID: Looking for unknown:  th_4  in equation:  e_21  =  -sin(th_3 + th_4)
  which has  2  unknown
algebra ID: Looking for unknown:  th_4  in equation:  e_22  =  -cos(th_3 + th_4)
  which has  2  unknown
basenode:  algebra ID  FAIL
find_ancestor: never found solved variable!
Completion Detection  ticked





           Completion Detector:  4  variables,  2  are solved.
             solved:  th_2   th_3



basenode:  Completion Detection  FAIL
algebra ID  ticked
running:  algebra ID  , input RHS:
algebra ID: Looking for unknown:  d_1  in equation:  e_34  =  d_1 - e_13*e_22*l_4 + e_13*l_3*cos(th_3)
  which has  1  unknown
algebra ID: Looking for unknown:  th_4  in equation:  e_21  =  -sin(th_3 + th_4)
  which has  1  unknown
algebra ID: Looking for unknown:  th_4  in equation:  e_22  =  -cos(th_3 + th_4)
  which has  1  unknown
basenode:  algebra ID  SUCCESS
algebra ID  ticked
running:  algebra ID  , input RHS:
algebra ID: Looking for unknown:  th_4  in equation:  e_21  =  -sin(th_3 + th_4)
  which has  1  unknown
algebra ID: Looking for unknown:  th_4  in equation:  e_22  =  -cos(th_3 + th_4)
  which has  1  unknown
basenode:  algebra ID  FAIL
algebra ID  ticked
running:  algebra ID  , input RHS:
algebra ID: Looking for unknown:  th_4  in equation:  e_21  =  -sin(th_3 + th_4)
  which has  1  unknown
algebra ID: Looking for unknown:  th_4  in equation:  e_22  =  -cos(th_3 + th_4)
  which has  1  unknown
basenode:  algebra ID  FAIL
algebra ID  ticked
running:  algebra ID  , input RHS:
algebra ID: Looking for unknown:  th_4  in equation:  e_21  =  -sin(th_3 + th_4)
  which has  1  unknown
algebra ID: Looking for unknown:  th_4  in equation:  e_22  =  -cos(th_3 + th_4)
  which has  1  unknown
basenode:  algebra ID  FAIL
d_1
th_2
th_3

########################
Now put in the joint variable identification

complete!!
##########################
creat unknown obj and save:
algebra ID  ticked
running:  algebra ID  , input RHS:
algebra ID: Looking for unknown:  d_1  in equation:  e_34  =  d_1 - e_13*e_22*l_4 + e_13*l_3*cos(th_3)
  which has  2  unknown
algebra ID: Looking for unknown:  th_2  in equation:  e_33  =  -cos(th_2)
  which has  1  unknown
algebra ID: Looking for unknown:  th_2  in equation:  e_13  =  sin(th_2)
  which has  1  unknown
algebra ID: Looking for unknown:  th_3  in equation:  e_34  =  d_1 - e_13*e_22*l_4 + e_13*l_3*cos(th_3)
  which has  2  unknown
algebra ID: Looking for unknown:  th_3  in equation:  e_14  =  -e_33*(-e_22*l_4 + l_3*cos(th_3))
  which has  1  unknown
algebra ID: Looking for unknown:  th_3  in equation:  e_24  =  e_21*l_4 - l_2 - l_3*sin(th_3)
  which has  1  unknown
algebra ID: Looking for unknown:  th_34  in equation:  e_21  =  -sin(th_34)
  which has  1  unknown
algebra ID: Looking for unknown:  th_34  in equation:  e_22  =  -cos(th_34)
  which has  1  unknown
basenode:  algebra ID  FAIL
find_ancestor: never found solved variable!
Completion Detection  ticked





           Completion Detector:  5  variables,  3  are solved.
             solved:  th_2   th_3   th_34



basenode:  Completion Detection  FAIL
algebra ID  ticked
running:  algebra ID  , input RHS:
algebra ID: Looking for unknown:  d_1  in equation:  e_34  =  d_1 - e_13*e_22*l_4 + e_13*l_3*cos(th_3)
  which has  1  unknown
basenode:  algebra ID  SUCCESS
algebra ID  ticked
running:  algebra ID  , input RHS:
basenode:  algebra ID  FAIL
algebra ID  ticked
running:  algebra ID  , input RHS:
basenode:  algebra ID  FAIL
Completion Detection  ticked





           Completion Detector:  5  variables,  5  are solved.
             solved:  d_1   th_2   th_3   th_4   th_34




 Solution Complete!!

basenode:  Completion Detection  SUCCESS
d_1
th_2
th_3
th_4
th_34
th_34
